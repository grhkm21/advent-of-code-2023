# def follow(val):
#     path = []
#     for block in maps:
#         for i, rg in enumerate(block):
#             dest, src, length = list(map(int, rg.split()))
#             if src <= val < src + length:
#                 val = dest + (val - src)
#                 path.append(i)
#                 break
#         else:
#             path.append(None)
#     return val, path

âŸ¨Split, SplitFâŸ© â† â€¢Import "util.bqn"
maps â† âŸ¨âŸ©SplitFâ€¢FLines"../input/in_2023_05"
orig â† â€¢ParseFloatÂ¨' 'SplitâŠ‘1â†“':'SplitâŠ‘âŠ‘maps
maps â†© {(Â¯1+1âŠð•©)âŠ¸+âŒ¾(2âŠ¸âŠ)ð•©}âŒ¾â‰Â¨{1(âŠâŽ‰1â‹âŠ¸âŠâŠ¢)âˆ˜â€¿3â¥Šâˆ¾(â€¢ParseFloatÂ¨)Â¨' 'SplitÂ¨1â†“ð•©}Â¨1â†“maps

Follow â† {
  val â† ð•©
  {
    val_start â† val
    # Assumption: Intervals don't overlap (holds in given inputs)
    {
      destâ€¿srcâ€¿end â† ð•©
      (srcâŠ¸â‰¤âˆ§endâŠ¸â‰¥) val_start ? val â†© dest + (val - src) ; 0
    }Ë˜ð•©
  }Â¨maps
  val
}

â€¢Show âŒŠÂ´FollowÂ¨orig
